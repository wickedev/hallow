(this.webpackJsonpexample=this.webpackJsonpexample||[]).push([[0],{18:function(e,t,r){},22:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),i=r(12),s=r.n(i),c=(r(18),r(13)),u=r(5),o=r(4),l=r(8),d=r(7),g=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(u.a)(this,r),(n=t.call(this,e)).state={},n}return Object(o.a)(r,[{key:"componentDidUpdate",value:function(e,t){e.children!==this.props.children&&this.setState({error:void 0})}},{key:"render",value:function(){var e,t,r=this.state.error;return r?a.a.createElement("div",{style:{color:"#c7384b"}},function(e){return"object"===typeof e?e.message:e}(r),(null===r||void 0===r||null===(e=r.metadata)||void 0===e?void 0:e.callstack)&&a.a.createElement("pre",null,null===r||void 0===r||null===(t=r.metadata)||void 0===t?void 0:t.callstack)):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),r}(a.a.Component);var v,f=r(24),h=r(3),b=r(9),O=r.n(b),p=r(2),j=new TextDecoder("utf-8");var m,y=(v={},Object(h.a)(v,p.grpc.Code.OK,"OK"),Object(h.a)(v,p.grpc.Code.Canceled,"Canceled"),Object(h.a)(v,p.grpc.Code.Unknown,"Unknown"),Object(h.a)(v,p.grpc.Code.InvalidArgument,"Invalid Argument"),Object(h.a)(v,p.grpc.Code.DeadlineExceeded,"Deadline Exceeded"),Object(h.a)(v,p.grpc.Code.NotFound,"NotFound"),Object(h.a)(v,p.grpc.Code.AlreadyExists,"Already Exists"),Object(h.a)(v,p.grpc.Code.PermissionDenied,"Permission Denied"),Object(h.a)(v,p.grpc.Code.ResourceExhausted,"Resource Exhausted"),Object(h.a)(v,p.grpc.Code.FailedPrecondition,"Failed Precondition"),Object(h.a)(v,p.grpc.Code.Aborted,"Aborted"),Object(h.a)(v,p.grpc.Code.OutOfRange,"Out Of Range"),Object(h.a)(v,p.grpc.Code.Unimplemented,"Unimplemented"),Object(h.a)(v,p.grpc.Code.Internal,"Internal"),Object(h.a)(v,p.grpc.Code.Unavailable,"Unavailable"),Object(h.a)(v,p.grpc.Code.DataLoss,"DataLoss"),Object(h.a)(v,p.grpc.Code.Unauthenticated,"Unauthenticated"),v);!function(e){e[e.PENDING=0]="PENDING",e[e.FULLFILED=1]="FULLFILED",e[e.REJECTED=2]="REJECTED"}(m||(m={}));var E=function(){function e(t,r){Object(u.a)(this,e),this.factory=t,this.status=m.PENDING,this.result=void 0,this.suspender=void 0,this.forceUpdate=void 0,this.initialArgs=void 0,this.fetch(r)}return Object(o.a)(e,[{key:"read",value:function(){switch(this.status){case m.PENDING:throw this.suspender;case m.REJECTED:throw this.result;case m.FULLFILED:return this.result}}},{key:"refresh",value:function(e){var t;this.status=m.PENDING,this.suspender=void 0,this.result=void 0,this.fetch(e),null===(t=this.forceUpdate)||void 0===t||t.call(this)}},{key:"fetch",value:function(e){var t=this;this.suspender=this.factory(e).then((function(e){t.status=m.FULLFILED,t.result=e}),(function(e){t.status=m.REJECTED,t.result=e}))}}]),e}();function k(e,t){var r=function(){var e=Object(n.useState)(0)[1];return Object(n.useRef)((function(){return e((function(e){return~e}))})).current}(),a=Object(n.useMemo)((function(){return new E(e,t)}),[]);return a.forceUpdate=r,Object(n.useEffect)((function(){a.status!==m.FULLFILED&&a.status!==m.REJECTED||a.refresh(t)}),[a,t]),a}var F=r(6),C=r(1),w=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(u.a)(this,r),n=t.call(this),C.Message.initialize(Object(F.a)(n),e,0,-1,void 0,void 0),n}return Object(o.a)(r,null,[{key:"create",value:function(e){var t=new r([]);return t.message=e.message,t.created=e.created,t}},{key:"toObject",value:function(e,t){return{message:t.message,created:t.created,$messageInstance:e?t:void 0}}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:C.Message.setField(e,1,t.readString());break;case 2:C.Message.setField(e,2,t.readString());break;default:t.skipField()}}return e}}]),Object(o.a)(r,[{key:"serializeBinary",value:function(){var e=new C.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()}},{key:"serializeBinaryToWriter",value:function(e){var t;null!=(t=this.message)&&e.writeString(1,t),null!=(t=this.created)&&e.writeString(2,t)}},{key:"toObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r.toObject(e,this)}},{key:"message",get:function(){return C.Message.getField(this,1)},set:function(e){C.Message.setField(this,1,e)}},{key:"created",get:function(){return C.Message.getField(this,2)},set:function(e){C.Message.setField(this,2,e)}}]),r}(C.Message),B=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(u.a)(this,r),n=t.call(this),C.Message.initialize(Object(F.a)(n),e,0,-1,void 0,void 0),n}return Object(o.a)(r,null,[{key:"create",value:function(e){var t=e.name,n=new r([]);return n.name=t,n}},{key:"deserializeBinary",value:function(e){}},{key:"toObject",value:function(e,t){return{name:t.name,$messageInstance:e?t:void 0}}}]),Object(o.a)(r,[{key:"serializeBinary",value:function(){var e=new C.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()}},{key:"serializeBinaryToWriter",value:function(e){var t;null!=(t=this.name)&&e.writeString(1,t)}},{key:"toObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r.toObject(e,this)}},{key:"name",get:function(){return C.Message.getField(this,1)},set:function(e){C.Message.setField(this,1,e)}}]),r}(C.Message),D=function(e){Object(l.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(u.a)(this,r),n=t.call(this),C.Message.initialize(Object(F.a)(n),e,0,-1,r.repeatedFields_,null),n}return Object(o.a)(r,null,[{key:"create",value:function(e){var t=new r([]);return t.greetingList=e.greeting.map(w.create),t}},{key:"deserializeBinary",value:function(e){return r.deserializeBinaryFromReader(new r([]),new C.BinaryReader(e))}},{key:"deserializeBinaryFromReader",value:function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new w(void 0);t.readMessage(r,w.deserializeBinaryFromReader),e.addGreeting(r);break;default:t.skipField()}}return e}},{key:"toObject",value:function(e,t){return{greeting:C.Message.toObjectList(t.greetingList,w.toObject,e),$messageInstance:e?t:void 0}}}]),Object(o.a)(r,[{key:"addGreeting",value:function(e,t){return C.Message.addToRepeatedWrapperField(this,1,e,w,t)}},{key:"serializeBinary",value:function(){var e=new C.BinaryWriter;return this.serializeBinaryToWriter(e),e.getResultBuffer()}},{key:"serializeBinaryToWriter",value:function(e){var t=this.greetingList;t.length>0&&e.writeRepeatedMessage(1,t,w.serializeBinaryToWriter)}},{key:"toObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r.toObject(e,this)}},{key:"greetingList",get:function(){return C.Message.getRepeatedWrapperField(this,w,1)},set:function(e){C.Message.setRepeatedWrapperField(this,1,e)}}]),r}(C.Message);D.repeatedFields_=[1];var M=function e(){Object(u.a)(this,e),this.serviceName="greeting.GreetingService"};M.service=new M,M.Greeting={methodName:"Greeting",service:M.service,requestStream:!1,responseStream:!1,requestType:B,responseType:D};var L=new(function(){function e(t){Object(u.a)(this,e),this.client=t}return Object(o.a)(e,[{key:"greeting",value:function(e){var t=this;return new Promise((function(r,n){p.grpc.unary(M.Greeting,{host:t.client.host,debug:!0,onEnd:function(e){if(e.status===p.grpc.Code.OK){var t,a=null===(t=e.message)||void 0===t?void 0:t.toObject();console.log(JSON.stringify(a)),a?r(a):n({message:"deserialize failed",code:e.status,metadata:e.trailers})}else{var i=e.trailers.headersMap["armeria.grpc.throwableproto-bin"],s=i&&function(e){var t=O.a.toByteArray(e);return j.decode(t)}(i[0]),c=e.statusMessage?"".concat(e.statusMessage," (").concat(y[e.status],")"):y[e.status];n({message:c,code:e.status,status:y[e.status],metadata:{callstack:s,trailers:e.trailers}})}},request:B.create(e)})}))}},{key:"createHooks",value:function(){var e=this;return{useGreeting:function(t){return k(e.greeting.bind(e),t)}}}}]),e}())({host:"http://localhost:8080"}).createHooks();function R(e){var t=e.greeting;return a.a.createElement("pre",null,JSON.stringify(t.read(),null,4))}function I(){var e=Object(n.useState)(Object(f.a)()),t=Object(c.a)(e,2),r=t[0],i=t[1];Object(n.useEffect)((function(){var e=setInterval((function(){i(Object(f.a)())}),1e4);return function(){clearInterval(e)}}));var s=L.useGreeting({name:r});return a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){s.refresh({name:Object(f.a)()})}},"Refresh"),a.a.createElement(g,null,a.a.createElement(n.Suspense,{fallback:a.a.createElement("p",null,"loading")},a.a.createElement(R,{greeting:s}))))}var z=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,25)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),i(e),s(e)}))},N=document.getElementById("root");s.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(I,null)),N),z()}},[[22,1,2]]]);
//# sourceMappingURL=main.33f87756.chunk.js.map